extends layout

block content 
    .my-3.my-md-5   
        .container  
            .page-header
                .page-title
                    h1 Attendance Records
                    
            != messages('message',locals)
            .row
                .col-12
                    .card.p-3
                        .d-flex.align-items-center
                            .stamp.stamp-md.bg-blue.mr-0
                                i.fe.fe-paperclip
                            div.text-left.col-md-9
                                h4.m-0
                                    div= course.code
                                    small= course.title
                            div.text-right.col-md-2
                                h4.m-0
                                    div  Records on:
                                    small= att_per_date.date.toDateString()

                .col-lg-4
                    .card.p-3
                        .d-flex.align-items-center
                            span.stamp.stamp-md.bg-info.mr-3
                                    i.fe.fe-users
                            div
                                    h4.m-0
                                        =   students.length
                                    small.text-muted Total Number of Students
                .col-lg-4
                    .card.p-3
                        .d-flex.align-items-center
                            span.stamp.stamp-md.bg-lime.mr-3
                                    i.fe.fe-user-check
                            div
                                    h4.m-0
                                        =   att_per_date.students.length
                                    small.text-muted Were present
                .col-lg-4
                    .card.p-3
                        .d-flex.align-items-center
                            span.stamp.stamp-md.bg-red.mr-3
                                    i.fe.fe-user-x
                            div
                                    h4.m-0
                                        =   students.length - att_per_date.students.length
                                    small.text-muted Were absent
                                    
                .col-lg-12
                    .card
                        .card-header
                            h3.card-title Students
                        .table-responsive
                            table.table.card-table.table-striped.table-vcenter
                                thread
                                    tr 
                                        th Student ID
                                        th Name
                                        th Email
                                        th
                                tbody
                                    each student,i in students
                                        tr
                                            td= student.studentId
                                            td= student.name.lastName + " " + student.name.firstName
                                            td= student.email
                                            td
                                                a.btn.btn-sm.btn-rounded.btn-cyan(href='/courses/students/report/' + student._id + '/?course_id=' + course._id)
                                                    i.fe.fe-file-text.mr-2
                                                    |   Records
            
